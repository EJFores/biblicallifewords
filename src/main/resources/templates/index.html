<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<head>
    <title>Biblical Life Words</title>
    <link rel="icon" type="image/svg+xml" th:href="@{/bible.svg}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css">
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
  </head>
  <body>
    <section class="hero">
      <div class="container hero-body has-text-centered">
        <h1 class="title" style="color: yellow;">Biblical Life Words</h1>
        <h2 class="subtitle" style="color: light-blue;">Generator that returns randomly selected life giving words from the Bible.</h2>
      </div>
    </section>
    <div class="block container verse-details" th:fragment="verse-details">
      <article class="message is-info has-text-centered">
        <div class="message-header">
          <div class="select is-rounded is-info is-small">
            <label>
              <select id="version-select" name="version">
                <option th:each="version : ${versions}"
                        th:value="${version}"
                        th:text="${version}"
                        th:selected="${version == (selectedVersion ?: 'ESV')}">
                </option>
              </select>
            </label>
          </div>
          <p th:text="${book} +' '+ ${chapter} + ':' + ${verse}"></p>
          <button class="button is-outlined is-small"
                  hx-get="/fetchNewVerse"
                  hx-target=".verse-details"
                  hx-swap="outerHTML"
                  hx-include="#version-select">
            Get a new verse
          </button>
        </div>
        <div class="message-body" th:text="${text}"></div>
      </article>
    </div>
    <footer class="has-text-centered">
      <a
              class="button is-small block"
              href="http://ethanflores.me"
              target="_blank"
              rel="noopener noreferrer"
      >Made by EJF</a>
      <div class="block tabs is-small is-centered is-toggle is-toggle-rounded" id="copyright-tabs">
        <ul>
          <li class="is-active"><a onclick="activateTab(this)">ESV Copyright</a></li>
          <li><a onclick="activateTab(this)">NLT Copyright</a></li>
        </ul>
      </div>
      <div id="tab-contents" class="block">
        <div id="esv-content" class="tab-content">
          Scripture quotations marked “ESV” are from the ESV® Bible (The Holy Bible, English Standard Version®), © 2001 by Crossway, a publishing ministry of Good News Publishers.
          Used by permission. All rights reserved. The ESV text may not be quoted in any publication made available to the public by a Creative Commons license.
          The ESV may not be translated into any other language.
        </div>
        <div id="nlt-content" class="tab-content" style="display:none;">
          Scripture quotations marked (NLT) are taken from the Holy Bible, New Living Translation, copyright ©1996, 2004, 2015 by Tyndale House Foundation.
          Used by permission of Tyndale House Publishers, Carol Stream, Illinois 60188. All rights reserved.
        </div>
      </div>
      <script>
        function activateTab(element) {
          const tabs = document.querySelectorAll('#copyright-tabs ul li');
          tabs.forEach(tab => tab.classList.remove('is-active'));
          element.parentElement.classList.add('is-active');

          // Show/hide tab contents
          const contents = {
            'ESV Copyright': 'esv-content',
            'NLT Copyright': 'nlt-content'
          };
          Object.values(contents).forEach(id => {
            document.getElementById(id).style.display = 'none';
          });
          const selected = element.textContent.trim();
          document.getElementById(contents[selected]).style.display = 'block';
        }
      </script>
    </footer>
  </body>
</html>